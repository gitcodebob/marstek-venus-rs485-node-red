<!DOCTYPE html>
<html lang="{{ site.lang | default: " en-US" }}">

<head>
    <meta charset="UTF-8">

    {% seo %}
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style"
        type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#00172D">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">

    <style>
        /* Dark Mode Theme Override */
        body {
            background-color: #00172D;
            color: #E1E1E1;
        }

        /* Header styling */
        .page-header {
            background-color: #00172D;
            background-image: linear-gradient(120deg, #00172D, #003D5C);
        }

        /* Headings */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            color: #FF9F38;
        }

        .project-name {
            color: #FF9F38;
        }

        .project-tagline {
            color: #E1E1E1;
            opacity: 0.9;
        }

        /* Links */
        a {
            color: #00A3B1;
        }

        a:hover {
            color: #00D4E6;
            text-decoration: underline;
        }

        /* Buttons */
        .btn {
            color: #E1E1E1;
            background-color: #00A3B1;
            border-color: #00A3B1;
        }

        .btn:hover {
            background-color: #008B99;
            border-color: #008B99;
        }

        /* Main content area */
        .main-content {
            color: #E1E1E1;
        }

        /* Override Cayman theme's max-width on larger screens */
        @media screen and (min-width: 64em) {
            .main-content {
                max-width: 80rem;
                padding: 2rem 3rem;
            }
        }

        .main-content h1,
        .main-content h2,
        .main-content h3,
        .main-content h4,
        .main-content h5,
        .main-content h6 {
            color: #FF9F38;
        }

        .main-content a {
            color: #00A3B1;
        }

        .main-content a:hover {
            color: #00D4E6;
        }

        /* Code blocks */
        .main-content pre {
            background-color: #001220;
            border: 1px solid #003D5C;
        }

        .main-content code {
            background-color: #001220;
            color: #E1E1E1;
            border: 1px solid #003D5C;
        }

        .main-content pre>code {
            background-color: transparent;
            border: none;
        }

        /* Blockquotes */
        .main-content blockquote {
            color: #C1C1C1;
            border-left: 4px solid #00A3B1;
        }

        /* Lists - only top-level list items */
        .main-content>ul>li,
        .main-content li>ul,
        .main-content>ol>li {
            margin-bottom: 10px;
        }

        /* Tables */
        .main-content table {
            border-color: #003D5C;
        }

        .main-content table th {
            background-color: #003D5C;
            color: #FF9F38;
            border-color: #003D5C;
        }

        .main-content table td {
            border-color: #003D5C;
        }

        .main-content table tr {
            background-color: #00172D;
            border-top-color: #003D5C;
        }

        .main-content table tr:nth-child(2n) {
            background-color: #001E3A;
        }

        /* Horizontal rules */
        .main-content hr {
            background-color: #003D5C;
        }

        /* Site footer */
        .site-footer {
            border-top: 1px solid #003D5C;
            color: #C1C1C1;
        }

        .site-footer-owner {
            color: #E1E1E1;
        }

        .site-footer-credits {
            color: #C1C1C1;
        }

        /* Image styling */
        .main-content img {
            background-color: transparent;
        }

        /* Content wrapper for TOC and main content */
        .content-wrapper {
            display: flex;
            gap: 2rem;
            max-width: 100%;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Table of Contents Sidebar */
        .toc-sidebar {
            flex: 0 0 220px;
            background-color: #001220;
            border: 1px solid #003D5C;
            border-radius: 5px;
            padding: 15px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .toc-sidebar h3 {
            margin-top: 0;
            font-size: 1.1rem;
            color: #FF9F38;
            margin-bottom: 10px;
        }

        .toc-sidebar ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        .toc-sidebar li {
            margin-bottom: 5px;
        }

        .toc-sidebar a {
            color: #00A3B1;
            text-decoration: none;
            font-size: 0.9rem;
            line-height: 1.4;
            display: block;
        }

        .toc-sidebar a:hover {
            color: #00D4E6;
        }

        .toc-sidebar .active {
            color: #FF9F38;
            font-weight: bold;
        }

        /* Indent nested headings */
        .toc-sidebar .toc-h2 {
            padding-left: 0;
        }

        .toc-sidebar .toc-h3 {
            padding-left: 15px;
        }

        .toc-sidebar .toc-h4 {
            padding-left: 30px;
        }

        /* Main content area */
        .main-content-area {
            flex: 1;
            min-width: 0;
            max-width: 900px;
        }

        /* Show TOC on larger screens */
        @media screen and (min-width: 1200px) {
            .content-wrapper {
                flex-direction: row;
            }
        }

        /* Stack on smaller screens */
        @media screen and (max-width: 1199px) {
            .content-wrapper {
                flex-direction: column;
            }

            .toc-sidebar {
                position: static;
                flex: 0 0 auto;
                width: 100%;
            }
        }

        /* Previous/Next Navigation */
        .page-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 3rem 0 2rem 0;
            padding: 1.5rem 0;
            border-top: 2px solid #003D5C;
            border-bottom: 2px solid #003D5C;
        }

        .page-navigation a {
            color: #00A3B1;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border: 1px solid #003D5C;
            border-radius: 5px;
            background-color: #001220;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            max-width: 45%;
        }

        .page-navigation a:hover {
            background-color: #003D5C;
            border-color: #00A3B1;
            color: #00D4E6;
        }

        .page-navigation .nav-label {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 0.25rem;
            text-transform: uppercase;
        }

        .page-navigation .nav-title {
            font-size: 1rem;
            color: #00A3B1;
            font-weight: bold;
        }

        .page-navigation a:hover .nav-title {
            color: #00D4E6;
        }

        .page-navigation .nav-prev {
            text-align: left;
        }

        .page-navigation .nav-next {
            text-align: right;
        }

        @media screen and (max-width: 768px) {
            .page-navigation {
                flex-direction: column;
                gap: 1rem;
            }

            .page-navigation a {
                max-width: 100%;
                width: 100%;
            }
        }
    </style>

    {% include head-custom.html %}
</head>

<body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
        <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
        <h2 class="project-tagline">{{ page.description | default: site.description | default:
            site.github.project_tagline }}</h2>
        {% if site.github.is_project_page %}
        <a href="{{ site.github.repository_url }}" class="btn">View on GitHub</a>
        {% endif %}
        {% if page.url != "/" and page.url != "/index.html" %}
        <a href="{{ site.baseurl }}/" class="btn">Back to Home</a>
        {% endif %}
        {% if site.show_downloads %}
        <a href="{{ site.github.zip_url }}" class="btn">Download .zip</a>
        <a href="{{ site.github.tar_url }}" class="btn">Download .tar.gz</a>
        {% endif %}
    </header>

    <main id="content" class="main-content" role="main">
        <div class="content-wrapper">
            <!-- Table of Contents Sidebar -->
            <div class="toc-sidebar" id="toc">
                <h3>On This Page</h3>
                <ul id="toc-list"></ul>
            </div>

            <div class="main-content-area">
                {{ content }}

                {% if page.url != "/" and page.url != "/index.html" %}

                <!-- Previous/Next Navigation -->
                {% assign nav_pages = site.pages | where_exp: "item", "item.nav_order" | sort: "nav_order" %}
                {% assign prev_page = nil %}
                {% assign next_page = nil %}
                {% assign found = false %}

                {% for nav_page in nav_pages %}
                {% if found == true and next_page == nil %}
                {% assign next_page = nav_page %}
                {% endif %}

                {% if nav_page.url == page.url %}
                {% assign found = true %}
                {% elsif found == false %}
                {% assign prev_page = nav_page %}
                {% endif %}
                {% endfor %}

                <nav class="page-navigation">
                    {% if prev_page %}
                    <a href="{{ prev_page.url }}" class="nav-prev">
                        <span class="nav-label">← Previous</span>
                        <span class="nav-title">{{ prev_page.title }}</span>
                    </a>
                    {% else %}
                    <div></div>
                    {% endif %}

                    {% if next_page %}
                    <a href="{{ next_page.url }}" class="nav-next">
                        <span class="nav-label">Next →</span>
                        <span class="nav-title">{{ next_page.title }}</span>
                    </a>
                    {% else %}
                    <div></div>
                    {% endif %}
                </nav>

                <p style="margin-top: 2rem; margin-bottom: 1rem;"><a href="{{ site.baseurl }}/">← Back to Home</a></p>
                {% endif %}

            </div><!-- end main-content-area -->
        </div><!-- end content-wrapper -->

        <footer class="site-footer">
            {% if site.github.is_project_page %}
            <span class="site-footer-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name
                    }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name
                    }}</a>.</span>
            {% endif %}
            <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub
                    Pages</a>.</span>
        </footer>
    </main>

    <!-- AnchorJS for clickable header links -->
    <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
    <script>
        anchors.options = {
            placement: 'left',
            icon: '#'
        };
        anchors.add('.main-content h1, .main-content h2, .main-content h3, .main-content h4, .main-content h5, .main-content h6');

        // Generate Table of Contents
        function generateTOC() {
            const content = document.querySelector('.main-content-area');
            const headings = content.querySelectorAll('h2, h3, h4');
            const tocList = document.getElementById('toc-list');
            const toc = document.getElementById('toc');

            if (headings.length === 0) {
                toc.style.display = 'none';
                return;
            }

            headings.forEach((heading, index) => {
                // Create an ID if it doesn't have one
                if (!heading.id) {
                    heading.id = 'heading-' + index;
                }

                const li = document.createElement('li');
                li.className = 'toc-' + heading.tagName.toLowerCase();

                const a = document.createElement('a');
                a.href = '#' + heading.id;
                a.textContent = heading.textContent.replace('#', '').trim();

                a.addEventListener('click', (e) => {
                    e.preventDefault();
                    heading.scrollIntoView({ behavior: 'smooth' });
                    history.pushState(null, null, '#' + heading.id);
                });

                li.appendChild(a);
                tocList.appendChild(li);
            });

            // Highlight active section on scroll
            let lastActiveLink = null;
            window.addEventListener('scroll', () => {
                let current = '';
                headings.forEach(heading => {
                    const rect = heading.getBoundingClientRect();
                    if (rect.top <= 100) {
                        current = heading.id;
                    }
                });

                if (current) {
                    if (lastActiveLink) {
                        lastActiveLink.classList.remove('active');
                    }
                    const activeLink = tocList.querySelector(`a[href="#${current}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active');
                        lastActiveLink = activeLink;
                    }
                }
            });
        }

        // Run after page loads
        document.addEventListener('DOMContentLoaded', generateTOC);
    </script>
</body>

</html>